(this.webpackJsonpicebox=this.webpackJsonpicebox||[]).push([[4],{217:function(e,a,t){"use strict";t.r(a);var n=t(27),l=t(0),r=t.n(l),c=t(203),o=t(211),i=t(212),m=t(213),u=t(214),d=t(201),s=t(180),f=t(218),y=t(205),b=t.n(y),E=t(215),v=t(216),h=t(96),p=function(e){return r.a.createElement(h.a,{mode:"Edit",info:e.info,dialog:e.dialog,onClick:e.onClick})},g=t(209),C=t(210),_=t(31),k=_.a.firestore(),w=function(e){return r.a.createElement(d.a,{title:e.mode?"Archive":"Restore"},r.a.createElement(s.a,{onClick:function(){return function(e,a){var t=new Date;k.collection("problems").doc(a).update({available:!e,archive_date:t}).then((function(e){})).catch((function(e){alert("Error updating availability: ",e)}))}(e.available,e.key_code)}},e.mode?r.a.createElement(g.a,null):r.a.createElement(C.a,null)))};function j(e){return new Date(1e3*e.seconds).toLocaleDateString("en-US")}function S(e,a){var t={Algebra:"#DB4437",Combinatorics:"#F4B400",Geometry:"#0F9D58","Number Theory":"#4285F4",Miscellaneous:"#512da8"};return r.a.createElement(c.a,{className:"chip",key:t[e]+a,style:{backgroundColor:t[e],color:"#fff"},label:e})}var O=function(e){var a=Object(l.useState)(!1),t=Object(n.a)(a,2),c=t[0],y=t[1],h=Object(l.useState)(!1),g=Object(n.a)(h,2),C=g[0],_=g[1];return r.a.createElement(o.a,{style:{minWidth:1e3,maxWidth:1e3,marginTop:"10pt"},key:e.id},r.a.createElement(i.a,null,r.a.createElement("div",{className:"problem_statement"},r.a.createElement("p",null,e.statement))),r.a.createElement(m.a,null),r.a.createElement(u.a,null,r.a.createElement("div",null,r.a.createElement("table",{className:"base_table"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{className:"left_col",key:"left"},e.proposer," on ",j(e.date_created),"undefined"!==typeof e.edited&&", edited on "+j(e.edited),r.a.createElement("br",null),e.key_code),r.a.createElement("td",{className:"center_col",key:"center"},!0===e.algebra&&S("Algebra",e.key_code),!0===e.combinatorics&&S("Combinatorics",e.key_code),!0===e.geometry&&S("Geometry",e.key_code),!0===e.number_theory&&S("Number Theory",e.key_code),!0===e.miscellaneous&&S("Miscellaneous",e.key_code)),r.a.createElement("td",{className:"right_col",key:"right"},r.a.createElement(w,{mode:e.archive,key_code:e.key_code,available:e.available}),r.a.createElement(d.a,{title:"Edit problem"},r.a.createElement(s.a,{onClick:function(){return _(!C)}},r.a.createElement(E.a,null)," ")),r.a.createElement(d.a,{title:"Copy source to clipboard"},r.a.createElement(s.a,{onClick:function(){return a=e.statement+"\n% Author: "+e.proposer,b()(a),void y(!c);var a}},r.a.createElement(v.a,null)," ")),"Difficulty: ",e.difficulty)))))),r.a.createElement(f.a,{open:c,autoHideDuration:2e3,onClose:function(){return y(!c)},anchorOrigin:{vertical:"bottom",horizontal:"left"},message:"Source copied to clipboard!"}),r.a.createElement(p,{dialog:C,info:e,onClick:function(){return _(!C)}}))},N=t(183),x=t(199),D=t(176),T=t(196),A=t(204),L=t(52),M=function(e){return r.a.createElement(L.a,{enableReinitialize:!0,initialValues:{difficulty:"",category:"",name:"",statement:"",id:""},onSubmit:function(a){e.setParams(a)}},(function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement(x.a,{name:"name",id:"name",placeholder:"Proposer",value:e.values.name,onChange:e.handleChange}),r.a.createElement(x.a,{name:"statement",id:"statement",placeholder:"Contains text",value:e.values.statement,onChange:e.handleChange}),r.a.createElement(D.a,null," Difficulty: "),r.a.createElement(T.a,{id:"difficulty",name:"difficulty",value:e.values.difficulty,onChange:e.handleChange},r.a.createElement(A.a,{value:""},"\xa0"),r.a.createElement(A.a,{value:"1"},"1"),r.a.createElement(A.a,{value:"2"},"2"),r.a.createElement(A.a,{value:"3"},"3"),r.a.createElement(A.a,{value:"4"},"4"),r.a.createElement(A.a,{value:"5"},"5")),r.a.createElement(D.a,null," Category: "),r.a.createElement(T.a,{id:"category",name:"category",value:e.values.category,onChange:e.handleChange},r.a.createElement(A.a,{value:""},"\xa0"),r.a.createElement(A.a,{value:"algebra"},"Algebra"),r.a.createElement(A.a,{value:"combinatorics"},"Combinatorics"),r.a.createElement(A.a,{value:"geometry"},"Geometry"),r.a.createElement(A.a,{value:"number_theory"},"Number Theory"),r.a.createElement(A.a,{value:"miscellaneous"},"Miscellaneous")),r.a.createElement(N.a,{type:"submit"},"Filter"))}))},F=_.a.firestore();a.default=function(e){var a=Object(l.useState)([]),t=Object(n.a)(a,2),c=t[0],o=t[1],i=Object(l.useState)({}),m=Object(n.a)(i,2),u=m[0],d=m[1];return Object(l.useEffect)((function(){F.collection("problems").where("available","==",e.archive).orderBy("date_created","desc").onSnapshot((function(a){var t=[],n=[];a.forEach((function(a){var t=a.data();n.push({id:a.id,proposer:t.proposer,available:t.available,archive:e.archive,date_created:t.date_created,edited:t.edited,statement:t.statement,algebra:t.algebra,combinatorics:t.combinatorics,geometry:t.geometry,miscellaneous:t.miscellaneous,number_theory:t.number_theory,difficulty:t.difficulty})}));for(var l=0;l<n.length;++l){var c=n[l];"undefined"!==typeof u.difficulty&&""!==u.difficulty&&u.difficulty!==c.difficulty||"undefined"!==typeof u.name&&""!==u.name&&u.name!==c.proposer&&!1===c.proposer.toLowerCase().includes(u.name.toLowerCase())||"undefined"!==typeof u.statement&&""!==u.statement&&u.statement!==c.statement&&!1===c.statement.toLowerCase().includes(u.statement.toLowerCase())||"undefined"!==typeof u.category&&""!==u.category&&!1===c[u.category]||t.push(r.a.createElement(O,{key:c.id,key_code:c.id,proposer:c.proposer,available:c.available,archive:e.archive,date_created:c.date_created,edited:c.edited,statement:c.statement,algebra:c.algebra,combinatorics:c.combinatorics,geometry:c.geometry,miscellaneous:c.miscellaneous,number_theory:c.number_theory,difficulty:c.difficulty}))}o(t),window.MathJax.Hub.Queue(["Typeset",window.MathJax.Hub])}))}),[u]),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("div",{style:{justifyContent:"center",marginTop:"8pt"}},r.a.createElement("div",{style:{margin:"auto",textAlign:"center"}},r.a.createElement(M,{setParams:function(e){return d(e)}}),"undefined"!==typeof u.difficulty&&r.a.createElement(N.a,{onClick:function(){return d({})}},"Clear")))),r.a.createElement("div",{style:{justifyContent:"center",display:"flex",marginTop:"3vh"}},r.a.createElement("div",{style:{margin:"auto"}},c)))}}}]);
//# sourceMappingURL=4.27a86874.chunk.js.map
(this.webpackJsonpicebox=this.webpackJsonpicebox||[]).push([[0],{118:function(e,a,t){e.exports=t(145)},123:function(e,a,t){},143:function(e,a,t){},144:function(e,a,t){},145:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(13),o=t.n(r),i=(t(123),t(27)),c=t(31),u=t(66),s=t(67),m=t(79),d=t(78),f=t(52),h=t(199),b=t(171),p=t(179),E=t(180),y=t(183),v=t(181),g=t(182),C=function(e){Object(m.a)(t,e);var a=Object(d.a)(t);function t(e){var n;return Object(u.a)(this,t),(n=a.call(this,e)).handleShow=function(e){e.preventDefault(),n.setState({show:!n.state.show})},n.state={show:!1},n}return Object(s.a)(t,[{key:"render",value:function(){var e=this,a=this.props.firebase;return l.a.createElement(f.a,{enableReinitialize:!0,initialValues:{email:"",password:""},onSubmit:function(e){a.auth().signInWithEmailAndPassword(e.email,e.password).catch((function(e){var a=e.message;alert(a)}))}},(function(a){return l.a.createElement("form",{onSubmit:a.handleSubmit},l.a.createElement(h.a,{style:{width:"200pt"},required:!0,id:"email",name:"email",value:a.values.email,placeholder:"Email",onChange:a.handleChange}),l.a.createElement("br",null),l.a.createElement(b.a,{style:{width:"200pt"},required:!0,id:"password",name:"password",type:e.state.show?"text":"password",value:a.values.password,placeholder:"Password",autoComplete:"on",onChange:a.handleChange,endAdornment:l.a.createElement(p.a,{position:"end"},l.a.createElement(E.a,{"aria-label":"toggle password visibility",onClick:e.handleShow,onMouseDown:e.handleShow},e.state.show?l.a.createElement(v.a,null):l.a.createElement(g.a,null)))}),l.a.createElement("br",null),l.a.createElement(y.a,{color:"primary",variant:"contained",type:"submit",style:{margin:"10pt"}},"Log In"))}))}}]),t}(n.Component),w=t(146),k=t(107),S=function(e){Object(m.a)(t,e);var a=Object(d.a)(t);function t(){return Object(u.a)(this,t),a.apply(this,arguments)}return Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"}},l.a.createElement("div",{className:"Splash"},l.a.createElement(w.a,{elevation:3,style:{padding:"15pt"}},l.a.createElement(k.a,{variant:"h1"},"IceBox"),l.a.createElement(k.a,{variant:"h6"},"ABMC's Problem Proposal System"),l.a.createElement(C,{firebase:this.props.firebase}))))}}]),t}(n.Component),O=t(187),j=t(188),_=t(197),F=t(189),x=t(201),A=t(191),P=t(192),N=t(190),I=t(193),B=t(96),V=t(200),D=t(184),W=t(185),z=function(e){return l.a.createElement(V.a,{fullWidth:!0,open:e.open,onClose:e.onClose},l.a.createElement(D.a,null," Statistics "),l.a.createElement(W.a,null))},q=t(186),M=function(e,a){if("undefined"!==typeof e.old_pass&&""!==e.old_pass){var t=c.a.auth.EmailAuthProvider.credential(a.email,e.old_pass);a.reauthenticateWithCredential(t).then((function(){"undefined"!==typeof e.password&&""!==e.password&&a.updatePassword(e.password).then((function(){alert("Successfully set password!")})).catch((function(e){alert(e)}))})).catch((function(e){alert("Original password incorrect")}))}"undefined"!==typeof e.name&&""!==e.name&&a.updateProfile({displayName:e.name}).then((function(){alert("Successfully set name as "+e.name)})).catch((function(e){alert(e)}))},G=function(e){var a={};return""!==e.old_pass&&""===e.password&&(alert("You have entered an old password, but not your new one. Please do so."),a.password="You must enter your new password too!"),e.password!==e.confirm&&(alert("Passwords do not match"),a.password="Passwords do not match"),a},L=function(e){var a=Object(n.useState)(!1),t=Object(i.a)(a,2),r=t[0],o=t[1];return l.a.createElement(b.a,{id:e.id,name:e.id,type:r?"text":"password",style:{width:"200pt"},value:e.value,placeholder:e.placeholder,onChange:e.handleChange,autoComplete:"off",endAdornment:l.a.createElement(p.a,{position:"end"},l.a.createElement(E.a,{"aria-label":"toggle password visibility",onClick:function(){return o(!r)},onMouseDown:function(){return o(!r)}},r?l.a.createElement(v.a,null):l.a.createElement(g.a,null)))})},R=function(e){return l.a.createElement(f.a,{enableReinitialize:!0,initialValues:{name:"",old_pass:"",password:"",confirm:""},validate:G,validateOnChange:!1,validateOnBlur:!1,onSubmit:function(a,t){var n=t.resetForm;M(a,e.user),e.onClose(),n({})}},(function(a){return l.a.createElement(V.a,{open:e.open,onClose:e.onClose},l.a.createElement("form",{onSubmit:a.handleSubmit},l.a.createElement(D.a,null,"Profile Information"),l.a.createElement(W.a,null,l.a.createElement(k.a,null,"Email: ",e.user.email),"undefined"===typeof e.user.displayName?l.a.createElement(h.a,{id:"name",value:a.name,onChange:a.handleChange,placeholder:"Set your name! (Only once)",style:{marginTop:"3pt",width:"200pt"}}):l.a.createElement(k.a,null,"Name: ",e.user.displayName," "),l.a.createElement("br",null),l.a.createElement(L,{id:"old_pass",placeholder:"Current password",value:a.values.old_pass,handleChange:a.handleChange}),l.a.createElement("br",null),l.a.createElement(L,{id:"password",placeholder:"Change password",value:a.values.password,handleChange:a.handleChange}),l.a.createElement("br",null),l.a.createElement(L,{id:"confirm",placeholder:"Confirm your password",value:a.values.confirm,handleChange:a.handleChange})),l.a.createElement(q.a,null,l.a.createElement(y.a,{type:"submit"}," Update Profile"))))}))},T=t(40),Y=Object(T.g)((function(e){return l.a.createElement(y.a,{style:{color:"#FFFFFF"},onClick:function(){return function(e){c.a.auth().signOut().then((function(){e.history.push("/")})).catch((function(e){alert(e)}))}(e)}}," Log out")})),J=l.a.lazy((function(){return Promise.all([t.e(3),t.e(4)]).then(t.bind(null,217))})),K=function(e){return l.a.createElement("div",{role:"tabpanel",hidden:e.value!==e.index,id:e.index},e.value===e.index&&e.children)},U=function(e){var a=Object(n.useState)(!1),t=Object(i.a)(a,2),r=t[0],o=t[1],c=Object(n.useState)(!1),u=Object(i.a)(c,2),s=u[0],m=u[1],d=Object(n.useState)(!1),f=Object(i.a)(d,2),h=f[0],b=f[1],p=Object(n.useState)(0),y=Object(i.a)(p,2),v=y[0],g=y[1];return l.a.createElement("div",null,l.a.createElement(O.a,{position:"static"},l.a.createElement(j.a,null,l.a.createElement("table",{className:"base_table"},l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",{style:{textAlign:"left"}},l.a.createElement(_.a,{value:v,onChange:function(e,a){return g(a)}},l.a.createElement(F.a,{label:"Dashboard"}),l.a.createElement(F.a,{label:"Archive"}))),l.a.createElement("td",{style:{textAlign:"center"}},l.a.createElement(k.a,{variant:"h5"},"IceBox")),l.a.createElement("td",{style:{textAlign:"right"}},l.a.createElement(x.a,{title:"View profile information"},l.a.createElement(E.a,{onClick:function(){return b(!h)}},l.a.createElement(N.a,{style:{color:"#FFFFFF"}}))),l.a.createElement(Y,null))))))),l.a.createElement(K,{value:v,index:0},l.a.createElement(n.Suspense,{fallback:l.a.createElement(A.a,null)},l.a.createElement(J,{mode:"Edit",archive:!0,dialog:s,onClick:function(){return m(!s)}}))),l.a.createElement(K,{value:v,index:1},l.a.createElement(n.Suspense,{fallback:l.a.createElement(A.a,null)},l.a.createElement(J,{mode:"Edit",archive:!1,dialog:s,onClick:function(){return m(!s)}}))),l.a.createElement("div",{className:"fab"},l.a.createElement(P.a,{onClick:function(){return m(!s)},color:"secondary"},l.a.createElement(I.a,null))),l.a.createElement(B.a,{mode:"New",dialog:s,onClick:function(){return m(!s)}}),l.a.createElement(z,{open:r,onClose:function(){return o(!r)}}),l.a.createElement(R,{open:h,onClose:function(){return b(!h)},user:e.user}))},$=(t(143),t(144),t(194)),H=t(195),Q=t(105),X=(Object(Q.a)({palette:{type:"dark",background:{default:"#2C3544"},primary:{main:"#1976d2"},secondary:{main:"#fdd835"},white:{main:"#ffffff"}}}),Object(Q.a)({palette:{type:"light",background:{default:"#E2E2E2"},primary:{main:"#1976d2"},secondary:{main:"#fdd835"},white:{main:"#ffffff"}}})),Z=function(e){return l.a.createElement(T.b,{path:"/dashboard",component:e.isAuth?e.component:function(){return l.a.createElement(T.a,{to:"/"})}})},ee=Object(T.g)((function(e){var a=Object(n.useState)(!1),t=Object(i.a)(a,2),r=t[0],o=t[1],u=Object(n.useState)({}),s=Object(i.a)(u,2),m=s[0],d=s[1];return Object(n.useEffect)((function(a){c.a.auth().onAuthStateChanged((function(a){a&&(o(!0),d(a),e.history.push("/dashboard"))}))}),[r,e.history]),l.a.createElement($.a,{theme:X},l.a.createElement(H.a,null),l.a.createElement(T.d,null,l.a.createElement(Z,{path:"/dashboard",isAuth:r,component:function(){return l.a.createElement(U,{user:m})}}),l.a.createElement(T.b,{path:"/",component:function(){return l.a.createElement(S,{firebase:c.a})}})))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ae=t(65);o.a.render(l.a.createElement(l.a.Fragment,null,l.a.createElement(ae.a,null,l.a.createElement(ee,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},31:function(e,a,t){"use strict";var n=t(84),l=t.n(n);l.a.initializeApp({apiKey:"AIzaSyCW_GFntr4Fwe0ajuEzBVepn1FEKP7Lir0",authDomain:"icebox-4f67e.firebaseapp.com",databaseURL:"https://icebox-4f67e.firebaseio.com",projectId:"icebox-4f67e",storageBucket:"icebox-4f67e.appspot.com",messagingSenderId:"360264376419",appId:"1:360264376419:web:d9314c2b373f569ef55856"}),a.a=l.a},96:function(e,a,t){"use strict";var n=t(0),l=t.n(n),r=t(203),o=t(200),i=t(184),c=t(185),u=t(199),s=t(176),m=t(196),d=t(204),f=t(186),h=t(183),b=t(52),p=t(31).a.firestore(),E=function(e,a){var t=new Date;"New"===a?p.collection("problems").add({proposer:e.name,difficulty:e.difficulty,statement:e.statement,date_created:t,available:!0,algebra:e.algebra,combinatorics:e.combinatorics,geometry:e.geometry,number_theory:e.number_theory,miscellaneous:e.miscellaneous}).then((function(e){})).catch((function(e){alert("Error adding document: ",e)})):"Edit"===a&&p.collection("problems").doc(e.id).update({proposer:e.name,difficulty:e.difficulty,statement:e.statement,edited:t,algebra:e.algebra,combinatorics:e.combinatorics,geometry:e.geometry,number_theory:e.number_theory,miscellaneous:e.miscellaneous}).then((function(e){})).catch((function(e){alert("Error adding document: ",e)}))},y={Algebra:"#DB4437",Combinatorics:"#F4B400",Geometry:"#0F9D58","Number Theory":"#4285F4",Miscellaneous:"#512da8"},v=function(e){return l.a.createElement("div",{style:{display:"inline"}},l.a.createElement(r.a,{label:e.name,style:{backgroundColor:!0===e.value?y[e.name]:"#bdbdbd",color:"#fff"},clickable:!0,id:e.id,onClick:e.onClick}))},g=function(e){var a={};return e.combinatorics||e.algebra||e.number_theory||e.miscellaneous||e.geometry||(a.number_theory="You must select at least one category"),a};a.a=function(e){var a="undefined"!==typeof e.info;return l.a.createElement(b.a,{enableReinitialize:!0,initialValues:{statement:!0===a?e.info.statement:"",difficulty:!0===a?e.info.difficulty:"",name:!0===a?e.info.proposer:"",id:!0===a?e.info.key_code:"",algebra:!0===a&&e.info.algebra,combinatorics:!0===a&&e.info.combinatorics,geometry:!0===a&&e.info.geometry,number_theory:!0===a&&e.info.number_theory,miscellaneous:!0===a&&e.info.miscellaneous},validate:g,onSubmit:function(a,t){var n=t.resetForm;E(a,e.mode),e.onClick(),n({})}},(function(a){return l.a.createElement(o.a,{open:e.dialog,fullWidth:!0,maxWidth:"md",onClose:e.onClick},l.a.createElement("form",{onSubmit:a.handleSubmit},l.a.createElement(i.a,null," ",e.mode," Problem"),l.a.createElement(c.a,null,l.a.createElement(u.a,{fullWidth:!0,multiline:!0,required:!0,id:"statement",name:"statement",mode:e.mode,value:a.values.statement,onChange:a.handleChange,placeholder:"Problem Statement"}),l.a.createElement("div",{style:{marginTop:"5pt"}},l.a.createElement("table",{className:"base_table"},l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",{className:"left_edit",key:"left_2"},l.a.createElement(u.a,{required:!0,id:"name",name:"name",value:a.values.name,onChange:a.handleChange,placeholder:"Your name"})),l.a.createElement("td",{className:"center_edit",key:"center_2"},l.a.createElement(v,{name:"Algebra",id:"Algebra",value:a.values.algebra,onClick:function(){return a.setFieldValue("algebra",!a.values.algebra)}}),l.a.createElement(v,{name:"Combinatorics",id:"Combinatorics",value:a.values.combinatorics,onClick:function(){return a.setFieldValue("combinatorics",!a.values.combinatorics)}}),l.a.createElement(v,{name:"Geometry",id:"Geometry",value:a.values.geometry,onClick:function(){return a.setFieldValue("geometry",!a.values.geometry)}}),l.a.createElement(v,{name:"Number Theory",id:"number_theory",value:a.values.number_theory,onClick:function(){return a.setFieldValue("number_theory",!a.values.number_theory)}}),l.a.createElement(v,{name:"Miscellaneous",id:"miscellaneous",value:a.values.miscellaneous,onClick:function(){return a.setFieldValue("miscellaneous",!a.values.miscellaneous)}})),l.a.createElement("td",{className:"right_edit",key:"right_2"},l.a.createElement(s.a,null," Difficulty: "),l.a.createElement(m.a,{labelId:"diff",required:!0,id:"difficulty",name:"difficulty",value:a.values.difficulty,onChange:a.handleChange},l.a.createElement(d.a,{value:"1"},"1"),l.a.createElement(d.a,{value:"2"},"2"),l.a.createElement(d.a,{value:"3"},"3"),l.a.createElement(d.a,{value:"4"},"4"),l.a.createElement(d.a,{value:"5"},"5")))))))),l.a.createElement(f.a,null,l.a.createElement(h.a,{type:"submit",color:"primary",variant:"contained"},"Submit"))))}))}}},[[118,1,2]]]);
//# sourceMappingURL=main.7b901775.chunk.js.map